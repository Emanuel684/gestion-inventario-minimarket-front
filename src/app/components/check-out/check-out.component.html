<main class="main">
  <div class="container py-3">
    <div class="content">
      <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
        <div class="mb-3">
          <label for="direccion" class="form-label">Dirección de entrega</label>
          <input
            type="text"
            formControlName="direccion"
            class="form-control"
            id="direccion"
            placeholder="Ingresa tu nombre completo"
          />
          <div
            *ngIf="
              contactForm.get('direccion')?.invalid &&
              (contactForm.get('direccion')?.touched ||
                contactForm.get('direccion')?.dirty)
            "
            class="text-danger"
          >
            <small *ngIf="contactForm.get('direccion')?.errors?.['required']"
              >Dirección de entrega requerida.</small
            >
          </div>
        </div>

        <div class="mb-3">
          <label for="fechaEntrega" class="form-label">Fecha de entrega</label>
          <input
            type="date"
            formControlName="fechaEntrega"
            class="form-control"
            id="fechaEntrega"
            placeholder=""
          />
          <div
            *ngIf="
              contactForm.get('fechaEntrega')?.invalid &&
              (contactForm.get('fechaEntrega')?.touched ||
                contactForm.get('fechaEntrega')?.dirty)
            "
            class="text-danger"
          >
            <small *ngIf="contactForm.get('fechaEntrega')?.errors?.['required']"
              >Fecha de entrega requerida.</small
            >
          </div>
        </div>

        <div class="table-responsive">
          <table class="table text-center">
            <thead>
              <tr>
                <th style="width: 25%">Nombre</th>
                <th style="width: 25%">Tipo</th>
                <th style="width: 25%">Sub Tipo</th>
                <th style="width: 25%">Precio</th>
              </tr>
            </thead>
            <tbody>
              @for (item of respuesta_clientes?.data; track item.nombre) {
                <tr>
                  <th scope="row" class="text-start">
                    {{ item.nombre }}
                  </th>
                  <th scope="row" class="text-start">{{ item.tipo }}</th>
                  <th scope="row" class="text-start">{{ item.sub_tipo }}</th>
                  <th scope="row" class="text-start">{{ item.precio }}</th>
                  <th scope="row" class="text-start">
                    <button
                      type="submit"
                      class="w-100 btn btn-lg btn-primary"
                      (click)="deleteProducto(item)"
                    >
                      Eliminar
                    </button>
                  </th>
                </tr>
              }
              <tr>
                <th scope="row" class="text-start"></th>
                <th scope="row" class="text-start"></th>
                <th scope="row" class="text-start"></th>
                <th scope="row" class="text-start">{{ total_compras }}</th>
                <th scope="row" class="text-start"></th>
              </tr>
            </tbody>
          </table>
        </div>

        <button
          type="submit"
          class="btn btn-primary container-sm"
          [disabled]="contactForm.invalid"
        >
          <a
            type="button"
            class="w-100 btn btn-lg btn-primary"
            (click)="pagarProductos()"
          >
            Pagar productos
          </a>
        </button>
      </form>
    </div>

    <!-- FOOTER -->
    <footer class="pt-4 my-md-5 pt-md-5 border-top">
      <div class="row">
        <div class="col-12 col-md">
          <img
            class="mb-2"
            src="https://seeklogo.com/images/M/mini-market-logo-BF4A1CB5E0-seeklogo.com.png"
            alt=""
            width="24"
            height="19"
          />
          <small class="d-block mb-3 text-body-secondary">© 2017–2024</small>
        </div>
        <div class="col-6 col-md">
          <h5>Características</h5>
          <ul class="list-unstyled text-small">
            <li class="mb-1">
              <a
                class="link-secondary text-decoration-none"
                href="cosas-interesantes"
                >Cosas Interesantes</a
              >
            </li>
          </ul>
        </div>
        <div class="col-6 col-md">
          <h5>Recursos</h5>
          <ul class="list-unstyled text-small">
            <li class="mb-1">
              <a class="link-secondary text-decoration-none" href="recursos"
                >Recursos</a
              >
            </li>
            <li class="mb-1">
              <a class="link-secondary text-decoration-none" href="contactanos"
                >Contactanos</a
              >
            </li>
          </ul>
        </div>
        <div class="col-6 col-md">
          <h5>Acerca de</h5>
          <ul class="list-unstyled text-small">
            <li class="mb-1">
              <a class="link-secondary text-decoration-none" href="equipo"
                >Equipo</a
              >
            </li>
            <li class="mb-1">
              <a class="link-secondary text-decoration-none" href="privacidad"
                >Privacidad</a
              >
            </li>
            <li class="mb-1">
              <a class="link-secondary text-decoration-none" href="terminos"
                >Terminos</a
              >
            </li>
          </ul>
        </div>
      </div>
    </footer>
  </div>
</main>

<router-outlet />
